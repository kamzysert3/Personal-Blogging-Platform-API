<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./partials/head.ejs'); %>
</head>
<body>
    <%- include('./partials/header-alt.ejs'); %>
    <main style="justify-content: flex-start;">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <form action="/send-new-post" method="post" enctype="multipart/form-data" style="padding: 12px;">
                        <input type="hidden" name="date" id="date">
                        <div class="form-group">
                            <label for="title">Title:</label>
                            <input type="text" class="form-control" id="title" name="title" required>
                        </div>
                        <div class="form-group">
                            <label for="content">Content:</label>
                            <textarea class="form-control" id="content" name="content" required style="resize: none; height: 200px;"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="image">Image:</label>
                            <input type="file" class="form-control-file" id="image" name="image" accept="image/*" required>
                        </div>
                        <div class="form-group">
                            <label for="author">Author:</label>
                            <input type="text" class="form-control" id="author" name="author" required>
                        </div>
                        <div class="form-group">
                            <label for="tag">Tag:</label>
                            <select type="text" class="form-control" id="tag" name="tag" required>
                                <option value="tech">Technology</option>
                                <option value="fashion">Fashion</option>
                                <option value="sports">Sports</option>
                                <option value="science">Science</option>
                                <option value="politics">Politics</option>
                                <option value="history">History</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                        <a href="/admin" class="btn btn-info">Go to admin panel</a>
                    </form>    
                </div>
            </div>
        </div>
    </main>
    
    <%- include('./partials/footer.ejs'); %>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", () => {
            const currentDate = new Date();
            const formattedDate = currentDate.toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            document.getElementById('date').value = formattedDate;
        });
    </script>
</body>
</html>